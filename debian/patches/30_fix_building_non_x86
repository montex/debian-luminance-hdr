From 386e382488d890270358c43c472e3704573d263b Mon Sep 17 00:00:00 2001
From: Franco Comida <francocomida@googlemail.com>
Date: Wed, 23 May 2012 20:36:25 +0100
Subject: [PATCH] [Luminance HDR]: Applied patch for building on non-x86
 architectures

---
 src/arch/malloc.h |    6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/arch/malloc.h b/src/arch/malloc.h
index 4015eb1..13fae1c 100644
--- a/src/arch/malloc.h
+++ b/src/arch/malloc.h
@@ -25,5 +25,11 @@
 #if defined(_MSC_VER)
 	#include <malloc.h>
 #else
+#if defined(__i386__) || defined(__x86_64__)
 	#include <mm_malloc.h>
+#else
+	#define _mm_malloc(a,b)	malloc(a)
+	#define _mm_free(a)	free(a)
+	#include <stdlib.h>
+#endif
 #endif
-- 
1.7.10

